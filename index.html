<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Deniz & Ebrar — Düğün Davetiyesi</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#fff6f3;
      --card:#ffffff;
      --accent:#c74b8a;
      --muted:#6b6b6b;
      --glass: rgba(255,255,255,0.6);
      --radius:16px;
      --max-width:900px;
      --shadow: 0 10px 30px rgba(15,15,15,0.08);
    }

    *{box-sizing:border-box}
    html,body{height:100%; margin:0; padding:0;}
    body{
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: radial-gradient(circle at 10% 10%, #fff9f6 0%, var(--bg) 40%, #fff0f3 100%);
      color:#222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:12px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .invite {
      width:100%;
      max-width:var(--max-width);
      background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow: visible;
      position:relative;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* Top hero */
    .hero{
      display:flex;
      flex-wrap: wrap;
      gap:12px;
      align-items:flex-start;
      padding:18px 12px;
      background:
        linear-gradient(180deg, rgba(199,75,138,0.06), rgba(199,75,138,0.02));
      min-height: 140px;
      overflow: visible;
      flex-shrink: 0;
      justify-content: space-between;
    }

    .hero-left{
      flex:1 1 60%;
      min-width: 220px;
      overflow: visible;
    }

    .names{
      font-family: "Playfair Display", serif;
      font-size: clamp(28px, 7vw, 44px);
      line-height:1.1;
      color:var(--accent);
      letter-spacing:0.6px;
      margin:0;
      user-select: text;
      visibility: visible !important;
      opacity: 1 !important;
      display: block !important;
      z-index: 10;
    }

    .sub{
      margin-top:3px;
      color:var(--muted);
      font-size:13px;
      margin-bottom: 0;
    }

    .hero-right{
      flex: 0 0 120px;
      height:120px;
      border-radius:12px;
      background:
        conic-gradient(from 200deg at 50% 50%, #ffd8e8, #ffeef6 40%, #fff 41%),
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160"><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="22" font-family="Playfair, serif" fill="%23c74b8a">❤️</text></svg>');
      background-size:cover;
      box-shadow:0 6px 18px rgba(199,75,138,0.12);
      flex-shrink:0;
      overflow: visible;
    }

    /* Details */
    .content{
      padding:14px 12px;
      display:flex;
      flex-direction: column;
      gap:10px;
      flex-grow: 1;
    }

    .card{
      background:var(--card);
      border-radius:12px;
      padding:12px;
      box-shadow:0 6px 18px rgba(20,20,20,0.03);
    }

    .message{
      font-size:15px;
      color:var(--muted);
      line-height:1.5;
      margin:0 0 8px 0;
    }

    .meta{
      display:flex;
      flex-direction: column;
      gap:4px;
      margin-top:8px;
    }

    .meta .item{
      background:var(--glass);
      padding:8px;
      border-radius:10px;
      font-size:13px;
      color:#333;
      display:flex;
      flex-direction: column;
      gap:2px;
    }

    .meta .label{font-size:11px;color:var(--muted);font-weight:600}
    .meta .value{font-weight:600}

    /* Buttons */
    .actions{
      display:flex;
      gap:6px;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .btn{
      appearance:none;
      border:0;
      padding:8px 10px;
      border-radius:10px;
      cursor:pointer;
      font-weight:600;
      display:inline-flex;
      gap:8px;
      align-items:center;
      justify-content:center;
      transition:transform .15s ease, box-shadow .15s ease;
      background: transparent;
      color: var(--accent);
      min-width: 100px;
      text-align: center;
    }
    .btn:active{transform:translateY(1px)}
    .btn-primary{
      background:linear-gradient(90deg,var(--accent), #a23b6e);
      color:#fff;
      box-shadow:0 6px 18px rgba(199,75,138,0.18);
    }
    .btn-ghost{
      background:transparent;
      border:1px solid rgba(0,0,0,0.06);
      color:var(--accent);
    }

    /* Countdown */
    .side{
      display:flex;
      flex-direction: column;
      gap:8px;
    }

    .countdown{
      text-align:center;
      padding:10px;
      border-radius:10px;
      background:linear-gradient(180deg, rgba(199,75,138,0.06), rgba(199,75,138,0.02));
    }

    .countdown .time{
      display:flex;
      gap:6px;
      justify-content:center;
      margin-top:8px;
      flex-wrap:wrap;
    }

    .unit{
      min-width:48px;
      padding:6px;
      background:white;
      border-radius:8px;
      box-shadow:0 6px 14px rgba(10,10,10,0.06);
    }

    .unit .num{font-weight:700;font-size:16px}
    .unit .lbl{font-size:11px;color:var(--muted)}

    /* Footer note */
    .footer{
      font-size:12px;
      color:var(--muted);
      padding:10px 14px;
      border-top:1px dashed rgba(0,0,0,0.04);
      display:flex;
      justify-content:space-between;
      gap:8px;
      flex-wrap:wrap;
    }

    /* Floating petals (simple, CSS-only) */
    .petals{
      position:absolute;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index: 0;
    }
    .petal{
      position:absolute;
      width:14px;height:20px;
      background:linear-gradient(180deg,#ffd7ea,#fff);
      border-radius:8px 8px 6px 6px;
      opacity:0.9;
      transform-origin:center;
      animation:float linear infinite;
      filter:drop-shadow(0 6px 10px rgba(199,75,138,0.08));
      z-index: 0;
    }
    @keyframes float{
      from{transform:translateY(-20vh) rotate(0deg); opacity:0}
      10%{opacity:1}
      to{transform:translateY(110vh) rotate(360deg); opacity:0}
    }

    /* Responsive */
    @media (max-width:880px){
      .content{padding:8px;}
      .hero{padding:10px; flex-wrap: nowrap; flex-direction: column; align-items: center; min-height: auto;}
      .hero-left{flex: none; width: 100%; text-align:center;}
      .hero-right{width: 80px; height: 80px; margin-top: 8px; flex:none;}
      .side{order:2;}
      .btn{width: 100%; min-width: auto;}
      .meta .item{
        padding:6px;
      }
    }
    @media (prefers-reduced-motion: reduce){
      .petal{animation:none;opacity:0.9}
      .btn{transition:none}
    }
  </style>
</head>
<body>

  <div class="invite" role="main" aria-labelledby="title">
    <div class="petals" id="petalWrap"></div>

    <header class="hero">
      <div class="hero-left">
        <h1 id="title" class="names">Deniz &amp; Ebrar</h1>
        <p class="sub">Sizleri en mutlu günümüzde aramızda görmekten mutluluk duyarız.</p>
      </div>
      <div class="hero-right" aria-hidden="true"></div>
    </header>

    <section class="content">
      <!-- Kına Bloğu -->
      <div class="card" aria-label="Kına Davetiyesi">
        <h2 style="color:var(--accent); margin-top:0; user-select:text;">Kına Daveti</h2>
        <div class="meta" aria-hidden="false">
          <div class="item">
            <span class="label">Kına Tarihi</span>
            <span class="value" id="dateDisplayKina">12 Eylül 2025, 19:00</span>
          </div>
          <div class="item">
            <span class="label">Mekan</span>
            <span class="value" id="kinaVenueDisplay">Kaya Event</span>
          </div>
          <div class="item">
            <span class="label">Adres</span>
            <span class="value" id="kinaAddressDisplay">Merkez, Osmaniye</span>
          </div>
        </div>
        <div class="actions">
          <button class="btn btn-primary" id="kinaRsvpBtn" title="Kına RSVP">Kına RSVP Gönder</button>
          <button class="btn btn-ghost" id="kinaMapBtn" title="Kına Haritada Aç">Kına Haritada Aç</button>
          <button class="btn btn-ghost" id="kinaCalendarBtn" title="Kına Takvime Ekle">Kına Takvime Ekle</button>
          <button class="btn btn-ghost" id="kinaDownloadIcs">Kına .ics İndir</button>
        </div>
      </div>

      <!-- Nikah Bloğu -->
      <div class="card" aria-label="Nikah Davetiyesi">
        <h2 style="color:var(--accent); margin-top:0; user-select:text;">Nikah Daveti</h2>
        <div class="meta" aria-hidden="false">
          <div class="item">
            <span class="label">Nikah Tarihi</span>
            <span class="value" id="dateDisplayNikah">20 Eylül 2025, 13:00</span>
          </div>
          <div class="item">
            <span class="label">Mekan</span>
            <span class="value" id="nikahVenueDisplay">Canik Kongre Merkezi</span>
          </div>
          <div class="item">
            <span class="label">Adres</span>
            <span class="value" id="nikahAddressDisplay">Canik, Samsun</span>
          </div>
        </div>
        <div class="actions">
          <button class="btn btn-primary" id="nikahRsvpBtn" title="Nikah RSVP">Nikah RSVP Gönder</button>
          <button class="btn btn-ghost" id="nikahMapBtn" title="Nikah Haritada Aç">Nikah Haritada Aç</button>
          <button class="btn btn-ghost" id="nikahCalendarBtn" title="Nikah Takvime Ekle">Nikah Takvime Ekle</button>
          <button class="btn btn-ghost" id="nikahDownloadIcs">Nikah .ics İndir</button>
        </div>
      </div>
    </section>

    <!-- Nikah geri sayım kutusu -->
    <div class="countdown" id="footerCountdown" aria-label="Nikah Geri Sayım">
      <div style="font-weight:600; color:var(--accent); font-size:15px;">Nikah Geri Sayım</div>
      <div class="time" id="footerCountdownTime">
        <!-- JS ile doldurulacak -->
      </div>
    </div>

    <footer class="footer">
      <div>© Deniz &amp; Ebrar — 2025</div>
      <div style="color:var(--muted)">Bu davetiye elektronik olarak gönderildi.</div>
    </footer>
  </div>

  <script>
    const DATA = {
      bride: "Deniz",
      groom: "Ebrar",
      message: "Sevgi ve mutluluğumuzu paylaşmanız bizi onurlandırır.",
      kinaVenue: "Kaya Event",
      kinaAddress: "Merkez, Osmaniye",
      nikahVenue: "Canik Kongre Merkezi",
      nikahAddress: "Canik, Samsun",
      dateNikah: new Date(2025, 8, 20, 13, 0, 0), // 20 Eylül 2025, 13:00
      dateKina: new Date(2025, 8, 12, 19, 0, 0),  // 12 Eylül 2025, 19:00
    };

    // Başlık ve alt başlık
    document.getElementById('title').textContent = `${DATA.bride} & ${DATA.groom}`;

    // Kına metin ve bilgiler
    document.getElementById('dateDisplayKina').textContent = formatDateTr(DATA.dateKina);
    document.getElementById('kinaVenueDisplay').textContent = DATA.kinaVenue;
    document.getElementById('kinaAddressDisplay').textContent = DATA.kinaAddress;

    // Nikah metin ve bilgiler
    document.getElementById('dateDisplayNikah').textContent = formatDateTr(DATA.dateNikah);
    document.getElementById('nikahVenueDisplay').textContent = DATA.nikahVenue;
    document.getElementById('nikahAddressDisplay').textContent = DATA.nikahAddress;

    function formatDateTr(d){
      const aylar = ["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"];
      return `${d.getDate()} ${aylar[d.getMonth()]} ${d.getFullYear()}, ${d.getHours().toString().padStart(2,'0')}:${d.getMinutes().toString().padStart(2,'0')}`;
    }

    // Geri sayım (Nikah tarihine)
    // İstersen buraya eklenebilir, şimdilik kaldırdım, gerekirse ayrı ayrı yapılabilir.

    // Kına Haritada aç
    document.getElementById('kinaMapBtn').addEventListener('click', () => {
      const q = encodeURIComponent(DATA.kinaAddress + " " + DATA.kinaVenue);
      const url = `https://l.instagram.com/?u=https%3A%2F%2Fmaps.app.goo.gl%2FxMVHa46tF2Xos9XB7%3Fg_st%3Dcom.google.maps.preview.copy%26fbclid%3DPAZXh0bgNhZW0CMTEAAae9mA44FhdhH4LN5sdHjLkMkkRGu5HNeTQ8cyvMq7ks63S4aY2JV-OUCpSlQQ_aem_4EOR7nAB_z-Nq4jg2_oMXQ&e=AT26dWvw97RWGxuyEE5wJE-6n0GE3Qu0XFh5zk9kagHeuNXetON7NWjmgrSzX39I5FYLgGggbLFx4usUGN8FHvtLKbTrXMefG59egbQ`; // değiştirilebilir
      window.open(url, '_blank');
    });

    // Nikah Haritada aç
    document.getElementById('nikahMapBtn').addEventListener('click', () => {
      const q = encodeURIComponent(DATA.nikahAddress + " " + DATA.nikahVenue);
      const url = `https://maps.app.goo.gl/gW3e9qRqaB3QWYv78`; // değiştirilebilir
      window.open(url, '_blank');
    });

    // Kına RSVP mailto
    document.getElementById('kinaRsvpBtn').addEventListener('click', () => {
      const to = ""; // mail adresi varsa ekle
      const subject = encodeURIComponent(`RSVP: Kına Daveti - ${DATA.bride} & ${DATA.groom} - ${formatDateTr(DATA.dateKina)}`);
      const body = encodeURIComponent(`Merhaba,\n\n${DATA.bride} & ${DATA.groom} Kına davetine katılım durumumu bildirmek istiyorum.\n\nİsimler:\nKatılım durumu (Katılıyorum / Katılamıyorum):\nKişi sayısı:\nNotlar:\n\nTeşekkürler.`);
      const mailto = to ? `mailto:${to}?subject=${subject}&body=${body}` : `mailto:?subject=${subject}&body=${body}`;
      window.location.href = mailto;
    });

    // Nikah RSVP mailto
    document.getElementById('nikahRsvpBtn').addEventListener('click', () => {
      const to = ""; // mail adresi varsa ekle
      const subject = encodeURIComponent(`RSVP: Nikah Daveti - ${DATA.bride} & ${DATA.groom} - ${formatDateTr(DATA.dateNikah)}`);
      const body = encodeURIComponent(`Merhaba,\n\n${DATA.bride} & ${DATA.groom} Nikah davetine katılım durumumu bildirmek istiyorum.\n\nİsimler:\nKatılım durumu (Katılıyorum / Katılamıyorum):\nKişi sayısı:\nNotlar:\n\nTeşekkürler.`);
      const mailto = to ? `mailto:${to}?subject=${subject}&body=${body}` : `mailto:?subject=${subject}&body=${body}`;
      window.location.href = mailto;
    });

    // Kına Takvime ekle - Google Calendar link
    document.getElementById('kinaCalendarBtn').addEventListener('click', () => {
      const start = new Date(DATA.dateKina);
      const end = new Date(start.getTime() + 3*60*60*1000);
      function toGc(dt){
        const Y = dt.getUTCFullYear().toString();
        const M = (dt.getUTCMonth()+1).toString().padStart(2,'0');
        const D = dt.getUTCDate().toString().padStart(2,'0');
        const h = dt.getUTCHours().toString().padStart(2,'0');
        const m = dt.getUTCMinutes().toString().padStart(2,'0');
        const s = dt.getUTCSeconds().toString().padStart(2,'0');
        return `${Y}${M}${D}T${h}${m}${s}Z`;
      }
      const url = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(DATA.bride + " & " + DATA.groom + " Kına")}\
&dates=${toGc(start)}/${toGc(end)}&details=${encodeURIComponent(DATA.message)}&location=${encodeURIComponent(DATA.kinaAddress + " " + DATA.kinaVenue)}&sf=true&output=xml`;
      window.open(url,'_blank');
    });

    // Nikah Takvime ekle - Google Calendar link
    document.getElementById('nikahCalendarBtn').addEventListener('click', () => {
      const start = new Date(DATA.dateNikah);
      const end = new Date(start.getTime() + 3*60*60*1000);
      function toGc(dt){
        const Y = dt.getUTCFullYear().toString();
        const M = (dt.getUTCMonth()+1).toString().padStart(2,'0');
        const D = dt.getUTCDate().toString().padStart(2,'0');
        const h = dt.getUTCHours().toString().padStart(2,'0');
        const m = dt.getUTCMinutes().toString().padStart(2,'0');
        const s = dt.getUTCSeconds().toString().padStart(2,'0');
        return `${Y}${M}${D}T${h}${m}${s}Z`;
      }
      const url = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(DATA.bride + " & " + DATA.groom)}\
&dates=${toGc(start)}/${toGc(end)}&details=${encodeURIComponent(DATA.message)}&location=${encodeURIComponent(DATA.nikahAddress + " " + DATA.nikahVenue)}&sf=true&output=xml`;
      window.open(url,'_blank');
    });

    // Kına ICS dosyası indir
    document.getElementById('kinaDownloadIcs').addEventListener('click', () => {
      const start = DATA.dateKina.toISOString().replace(/[-:]/g,'').split('.')[0] + 'Z';
      const endDate = new Date(DATA.dateKina.getTime() + 3*60*60*1000);
      const end = endDate.toISOString().replace(/[-:]/g,'').split('.')[0] + 'Z';
      const ics = [
        "BEGIN:VCALENDAR",
        "VERSION:2.0",
        "PRODID:-//Deniz&Ebrar Kına//EN",
        "BEGIN:VEVENT",
        `UID:${Date.now()}@deniz-ebrar-kina.com`,
        `DTSTAMP:${new Date().toISOString().replace(/[-:]/g,'').split('.')[0]}Z`,
        `DTSTART:${start}`,
        `DTEND:${end}`,
        `SUMMARY:${DATA.bride} & ${DATA.groom} Kına`,
        `DESCRIPTION:${DATA.message}`,
        `LOCATION:${DATA.kinaAddress} ${DATA.kinaVenue}`,
        "END:VEVENT",
        "END:VCALENDAR"
      ].join("\r\n");

      const blob = new Blob([ics], {type:'text/calendar'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'kina.ics';
      a.click();
      URL.revokeObjectURL(url);
    });

    // Nikah ICS dosyası indir
    document.getElementById('nikahDownloadIcs').addEventListener('click', () => {
      const start = DATA.dateNikah.toISOString().replace(/[-:]/g,'').split('.')[0] + 'Z';
      const endDate = new Date(DATA.dateNikah.getTime() + 3*60*60*1000);
      const end = endDate.toISOString().replace(/[-:]/g,'').split('.')[0] + 'Z';
      const ics = [
        "BEGIN:VCALENDAR",
        "VERSION:2.0",
        "PRODID:-//Deniz&Ebrar Nikah//EN",
        "BEGIN:VEVENT",
        `UID:${Date.now()}@deniz-ebrar-nikah.com`,
        `DTSTAMP:${new Date().toISOString().replace(/[-:]/g,'').split('.')[0]}Z`,
        `DTSTART:${start}`,
        `DTEND:${end}`,
        `SUMMARY:${DATA.bride} & ${DATA.groom} Nikah`,
        `DESCRIPTION:${DATA.message}`,
        `LOCATION:${DATA.nikahAddress} ${DATA.nikahVenue}`,
        "END:VEVENT",
        "END:VCALENDAR"
      ].join("\r\n");

      const blob = new Blob([ics], {type:'text/calendar'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'nikah.ics';
      a.click();
      URL.revokeObjectURL(url);
    });

    // Çiçek (petal) animasyonu ekle (basit, 10 adet)
    const petalWrap = document.getElementById('petalWrap');
    for(let i=0; i<10; i++){
      const petal = document.createElement('div');
      petal.className = 'petal';
      petal.style.left = (Math.random()*100) + 'vw';
      petal.style.animationDuration = (15 + Math.random()*10) + 's';
      petal.style.animationDelay = (Math.random()*15) + 's';
      petal.style.width = (8 + Math.random()*10) + 'px';
      petal.style.height = (12 + Math.random()*15) + 'px';
      petalWrap.appendChild(petal);
    }

    // Nikah geri sayım fonksiyonu
    function updateFooterCountdown() {
      const now = new Date();
      const target = DATA.dateNikah;
      let diff = Math.max(0, target - now);

      const days = Math.floor(diff / (1000*60*60*24));
      diff -= days * (1000*60*60*24);
      const hours = Math.floor(diff / (1000*60*60));
      diff -= hours * (1000*60*60);
      const mins = Math.floor(diff / (1000*60));
      diff -= mins * (1000*60);
      const secs = Math.floor(diff / 1000);

      document.getElementById('footerCountdownTime').innerHTML = `
        <div class="unit"><div class="num">${days}</div><div class="lbl">Gün</div></div>
        <div class="unit"><div class="num">${hours}</div><div class="lbl">Saat</div></div>
        <div class="unit"><div class="num">${mins}</div><div class="lbl">Dakika</div></div>
        <div class="unit"><div class="num">${secs}</div><div class="lbl">Saniye</div></div>
      `;
    }
    updateFooterCountdown();
    setInterval(updateFooterCountdown, 1000);
  </script>

</body>
</html>

